<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Tunnel on anthony lukach</title><link>https://alukach.com/tags/tunnel/</link><description>Recent content in Tunnel on anthony lukach</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Thu, 08 Sep 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://alukach.com/tags/tunnel/index.xml" rel="self" type="application/rss+xml"/><item><title>Auto-assume an IAM role before running a command</title><link>https://alukach.com/posts/with-role-command/</link><pubDate>Thu, 08 Sep 2022 00:00:00 +0000</pubDate><guid>https://alukach.com/posts/with-role-command/</guid><description>A convenience function to assume a IAM Role via STS before running a command.
Add the following to your ~/.zshrc (or equivalent) file:
1 2 3 4 5 6 7 8 9 10 11 12 13 14 function with-role { readonly role_arn=${1:?&amp;#34;The role_arn must be specified.&amp;#34;} env -S $( aws sts assume-role \ --role-arn ${role_arn} \ --role-session-name ${USER} \ | \ jq -r &amp;#39;.Credentials | &amp;#34; AWS_ACCESS_KEY_ID=\(.AccessKeyId) AWS_SECRET_ACCESS_KEY=\(.SecretAccessKey) AWS_SESSION_TOKEN=\(.SessionToken) &amp;#34;&amp;#39; ) ${@:2} } This assumes that you have both the AWS CLI and jq installed.</description></item><item><title>SSH tunnels in Python</title><link>https://alukach.com/posts/ssh-tunnels-in-python/</link><pubDate>Fri, 17 Sep 2021 00:00:00 +0000</pubDate><guid>https://alukach.com/posts/ssh-tunnels-in-python/</guid><description>At times, a developer may need to access infrastructure not available on the public internet. A common example of this is accessing a database located in a private subnet, as described in the VPC Scenario docs:
Instances in the private subnet are back-end servers that don&amp;rsquo;t need to accept incoming traffic from the internet and therefore do not have public IP addresses; however, they can send requests to the internet using the NAT gateway.</description></item></channel></rss>