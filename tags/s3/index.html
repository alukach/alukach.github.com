<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>S3 | anthony lukach</title>
<meta name=keywords content><meta name=description content><meta name=author content><link rel=canonical href=https://alukach.com/tags/s3/><link crossorigin=anonymous href=/assets/css/stylesheet.1ed26481d325120f9a3f0ae345a661a48b2f3cff0b5eed3b700edd10d22d4d79.css integrity="sha256-HtJkgdMlEg+aPwrjRaZhpIsvPP8LXu07cA7dENItTXk=" rel="preload stylesheet" as=style><link rel=icon href=https://alukach.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://alukach.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://alukach.com/favicon-32x32.png><link rel=apple-touch-icon href=https://alukach.com/apple-touch-icon.png><link rel=mask-icon href=https://alukach.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://alukach.com/tags/s3/index.xml><link rel=alternate hreflang=en href=https://alukach.com/tags/s3/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="S3"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://alukach.com/tags/s3/"><meta name=twitter:card content="summary"><meta name=twitter:title content="S3"><meta name=twitter:description content></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://alukach.com/ accesskey=h title="anthony lukach (Alt + H)">anthony lukach</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://alukach.com/categories/posts title=Posts><span>Posts</span></a></li><li><a href=https://alukach.com/categories/snippets title=Snippets><span>Snippets</span></a></li><li><a href=https://alukach.com/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://alukach.com/resume title=RÃ©sumÃ©><span>RÃ©sumÃ©</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>S3</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Hosting websites from private S3 buckets</h2></header><div class=entry-content><p>At work, we were alerted to an outage of an S3-backed frontend. The frontend was returning 403 responses. This left us scratching our head, as no deployment had occurred recently. After doing some digging, we found that AWS account administrators had applied a new policy to make all S3 buckets private (this is an account-wide setting, overriding bucket-level settings). ðŸ†’ ðŸ†’ ðŸ†’
So how can we configure Cloudfront to access private S3 buckets?...</p></div><footer class=entry-footer><span title='2024-04-19 00:00:00 +0000 UTC'>April 19, 2024</span>&nbsp;Â·&nbsp;4 min</footer><a class=entry-link aria-label="post link to Hosting websites from private S3 buckets" href=https://alukach.com/posts/hosting-websites-from-private-s3-buckets/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Roll your own PR preview CI pipeline</h2></header><div class=entry-content><p>Goal We want a CI pipeline that will build and deploy an instance of our frontend application for every PR created in our frontend repo. Additionally, we want to be able to easily spin up applications with overridden configuration to allow developers to test the frontend against experimental backends. Finally, we want a reporting mechanism to inform developers when and where these deployed environments are available.
Other Options Before you jump into this, consider that there are out-of-the-box solutions to solve this problem mentioned in the followup at the bottom of this page....</p></div><footer class=entry-footer><span title='2021-11-21 00:00:00 +0000 UTC'>November 21, 2021</span>&nbsp;Â·&nbsp;13 min</footer><a class=entry-link aria-label="post link to Roll your own PR preview CI pipeline" href=https://alukach.com/posts/diy-pr-previews/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Tips for working with a large number of files in S3</h2></header><div class=entry-content><p>I would argue that S3 is basically AWSâ€™ best service. Itâ€™s super cheap, itâ€™s basically infinitely scalable, and it never goes down (except for when it does). Part of its beauty is its simplicity. You give it a file and a key to identify that file, you can have faith that it will store it without issue. You give it a key, you can have faith that it will return the file represented by that key, assuming there is one....</p></div><footer class=entry-footer><span title='2020-05-30 00:00:00 +0000 UTC'>May 30, 2020</span>&nbsp;Â·&nbsp;7 min</footer><a class=entry-link aria-label="post link to Tips for working with a large number of files in S3" href=https://alukach.com/posts/tips-for-working-with-a-large-number-of-files-in-s3/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Boilerplate for S3 Batch Operation Lambda</h2></header><div class=entry-content><p>S3 Batch Operation provide a simple way to process a number of files stored in an S3 bucket with a Lambda function. However, the Lambda function must return particular Response Codes. Below is an example of a Lambda function written in Python that works with AWS S3 Batch Operations.</p></div><footer class=entry-footer><span title='2019-12-20 00:00:00 +0000 UTC'>December 20, 2019</span>&nbsp;Â·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Boilerplate for S3 Batch Operation Lambda" href=https://alukach.com/posts/aws-s3-batch-operation-lambda-boilerplate/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Parsing S3 Inventory CSV output in Python</h2></header><div class=entry-content><p>S3 Inventory is a great way to access a large number of keys in an S3 Bucket. Its output is easily parsed by AWS Athena, enabling queries across the key names (e.g. find all keys ending with .png)
However, sometimes you just need to list all of the keys mentioned in the S3 Inventory output (e.g. populating an SQS queue with every keyname mentioned in an inventory output). The following code is an example of doing such task in Python:</p></div><footer class=entry-footer><span title='2019-12-16 00:00:00 +0000 UTC'>December 16, 2019</span>&nbsp;Â·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Parsing S3 Inventory CSV output in Python" href=https://alukach.com/posts/parsing-s3-inventory-output/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>A PIL-friendly class for S3 objects</h2></header><div class=entry-content><p>Hereâ€™s a quick example of creating an file-like object in Python that represents an object on S3 and plays nicely with PIL. This ended up being overkill for my needs but I figured somebody might get some use out of it.</p></div><footer class=entry-footer><span title='2019-12-11 00:00:00 +0000 UTC'>December 11, 2019</span>&nbsp;Â·&nbsp;1 min</footer><a class=entry-link aria-label="post link to A PIL-friendly class for S3 objects" href=https://alukach.com/posts/pil-friendly-s3-file/></a></article></main><footer class=footer><span>&copy; 2024 <a href=https://alukach.com/>anthony lukach</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>